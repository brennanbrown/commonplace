---
layout: base.njk
---

{% if collections.latest %}
  {% set post = collections.latest[0] %}
  <article class="post">
    <time class="post-date"><a href="/{{ post.fileSlug }}/">{{ post.data.date | readableDate }}</a></time>
    
    {% if post.data.gratitude %}
    <div class="post-gratitude" data-type="gratitude">
      <span class="icon">üôè</span>
      <p>{{ post.data.gratitude }}</p>
    </div>
    {% endif %}
    
    {% if post.data.weather %}
    <div class="post-weather" data-type="weather">
      <span class="icon">{{ post.data.weather.emoji or 'üå§Ô∏è' }}</span>
      <div class="weather-info">
        <span class="condition">{{ post.data.weather.condition }}</span>
        <span class="temp">{{ post.data.weather.temp }}</span>
      </div>
    </div>
    {% endif %}
    
    {% if post.data.books %}
    <div class="post-books" data-type="books">
      <span class="icon">üìö</span>
      <ul>
        {% for book in post.data.books %}
        <li>
          <cite>{{ book.title }}</cite> by {{ book.author }}
          <span class="meta">({{ book.status }}{% if book.pages %}, p. {{ book.pages }}{% endif %})</span>
        </li>
        {% endfor %}
      </ul>
    </div>
    {% endif %}
    
    {% if post.data.videos %}
    <div class="post-videos" data-type="videos">
      <span class="icon">üì∫</span>
      <ul>
        {% for video in post.data.videos %}
        <li>
          <a href="{{ video.url }}">{{ video.title }}</a> by {{ video.creator }}
          <span class="meta">({{ video.duration }})</span>
        </li>
        {% endfor %}
      </ul>
    </div>
    {% endif %}
    
    {% if post.data.music %}
    <div class="post-music" data-type="music">
      <span class="icon">üéµ</span>
      <ul>
        {% for track in post.data.music %}
        <li>
          {{ track.title }} ‚Äî {{ track.artist }}
          <span class="meta">({{ track.album }}{% if track.plays %}, √ó{{ track.plays }}{% endif %})</span>
        </li>
        {% endfor %}
      </ul>
    </div>
    {% endif %}
    
    {% if post.data.locations %}
    <div class="post-locations" data-type="locations">
      <span class="icon">üìç</span>
      <ul>
        {% for location in post.data.locations %}
        <li>
          <strong>{{ location.name }}</strong> ({{ location.city }})
          {% if location.notes %}<span class="notes">{{ location.notes }}</span>{% endif %}
        </li>
        {% endfor %}
      </ul>
    </div>
    {% endif %}
    
    {% if post.data.quotes %}
    <div class="post-quotes" data-type="quotes">
      <span class="icon">üí¨</span>
      {% for quote in post.data.quotes %}
      <blockquote>
        <p>"{{ quote.text }}"</p>
        <footer>‚Äî {{ quote.author }}, <cite>{{ quote.source }}</cite></footer>
      </blockquote>
      {% endfor %}
    </div>
    {% endif %}
    
    {% if post.data.work_published %}
    <div class="post-work-published" data-type="work-published">
      <span class="icon">‚úçÔ∏è</span>
      <ul>
        {% for work in post.data.work_published %}
        <li>
          {% if work.url %}<a href="{{ work.url }}">{% endif %}{{ work.title }}{% if work.url %}</a>{% endif %}
          <span class="meta">({{ work.type }}{% if work.publication %}, {{ work.publication }}{% endif %})</span>
        </li>
        {% endfor %}
      </ul>
    </div>
    {% endif %}
    
    {% if post.data.notes %}
    <div class="post-notes" data-type="notes">
      <span class="icon">üìù</span>
      <ul>
        {% for note in post.data.notes %}
        <li>{{ note }}</li>
        {% endfor %}
      </ul>
    </div>
    {% endif %}
  </article>
{% endif %}

{% for month in collections.byMonth %}
  <section class="archive-month">
    <h2>{{ month.month }} {{ month.year }}</h2>
    {% if month.posts %}
    <ul class="archive-list">
      {% for post in month.posts %}
        {% if not (collections.latest and post.data.date == collections.latest[0].data.date) %}
          <li>
            <a href="/{{ post.fileSlug }}/">
              <span class="archive-date">{{ post.data.date | date("%d %b") }}</span>{% if post.data.gratitude %}: {{ post.data.gratitude }}{% endif %}
            </a>
          </li>
        {% endif %}
      {% endfor %}
    </ul>
    {% endif %}
  </section>
{% endfor %}
